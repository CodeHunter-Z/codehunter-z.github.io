<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>温馨弹窗</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
            width: 100vw;
            height: 100vh;
            position: fixed;
            touch-action: none;
        }
        
        .tip {
            position: absolute;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            max-width: 200px;
            min-width: 150px;
            text-align: center;
            font-size: 16px;
            line-height: 1.4;
            word-wrap: break-word;
            animation: fadeIn 0.8s, fadeOut 0.8s 9.2s;
            z-index: 1000;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: scale(0.8) translateY(20px);
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0);
            }
        }
        
        @keyframes fadeOut {
            from { 
                opacity: 1; 
                transform: scale(1) translateY(0);
            }
            to { 
                opacity: 0; 
                transform: scale(0.8) translateY(-20px);
            }
        }
        
        .status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 14px;
            z-index: 2000;
        }
        
        .control {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2000;
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="status" id="status">准备中...</div>
    
    <div class="control">
        <button id="startBtn">开始</button>
        <button id="stopBtn" disabled>停止</button>
    </div>

    <script>
        // 温馨语句列表
        const tips = [
            "你今天真好看！", "世界因你而美好", "保持微笑 :)", "你是最棒的",
            "一切都会好起来的", "相信自己", "今天也是美好的一天", "加油！",
            "保持积极心态", "你值得被爱", "每一天都是新的开始", "坚持就是胜利",
            "困难只是暂时的", "你很特别", "不要放弃", "前方有光",
            "生活充满希望", "你是独一无二的", "一切皆有可能", "心怀感恩",
            "善待自己", "小小的进步也是进步", "慢慢来，比较快", "你已经做得很好了",
            "明天会更好", "阳光总在风雨后", "爱自己是最重要的事", "享受当下",
            "你的存在让世界更美好", "每一天都是礼物", "微笑是最好的语言",
            "心中有爱，眼中有光", "做自己的太阳", "温暖他人，照亮自己",
            "坚持梦想", "勇敢前行", "温柔待人", "感恩遇见",
            "珍惜当下", "未来可期", "做真实的自己", "心若向阳，无畏悲伤",
            "时光不语，静待花开", "岁月静好，浅笑安然", "心之所向，素履以往",
            "以梦为马，不负韶华", "但行好事，莫问前程", "你若盛开，蝴蝶自来",
            "心平气和，万事皆安", "知足常乐，随遇而安", "心怀希望，所向披靡",
            "自律给我自由", "努力成为更好的自己", "每天进步一点点",
            "不忘初心，方得始终", "越努力，越幸运", "细节决定成败",
            "态度决定一切", "行动胜于空谈", "坚持就是力量", "自信是成功的第一步",
            "乐观面对生活", "宽容他人，善待自己", "用心感受美好",
            "发现生活中的小确幸", "传递正能量", "分享快乐", "帮助他人，快乐自己",
            "用爱温暖世界", "善良是一种选择", "真诚待人", "保持好奇心",
            "学习是一生的事业", "知识改变命运", "阅读丰富心灵", "思考使人进步",
            "实践出真知", "创新改变世界", "团队合作力量大", "沟通从心开始",
            "理解包容他人", "尊重不同观点", "感恩所有遇见", "珍惜每一份情谊",
            "家人是最温暖的港湾", "朋友是人生的财富", "爱情需要用心经营",
            "亲情永远最珍贵", "友情地久天长", "师生情谊难忘", "同事互助共进",
            "邻里和睦相处", "社会和谐美好", "国家繁荣昌盛", "世界和平共处",
            "保护环境，人人有责", "节约资源，从我做起", "绿色生活，健康长久",
            "运动保持活力", "健康饮食很重要", "充足睡眠养精神", "心情愉快身体好",
            "工作生活平衡", "劳逸结合效率高", "定期放松心情", "旅行开阔眼界",
            "音乐陶冶情操", "艺术丰富生活", "美食带来快乐", "运动释放压力",
            "冥想平静心灵", "瑜伽舒展身体", "舞蹈表达情感", "绘画创造美好",
            "写作记录生活", "摄影捕捉瞬间", "手工制作乐趣", "园艺亲近自然",
            "宠物陪伴温暖", "读书增长智慧", "电影体验人生", "戏剧感悟生活",
            "科学探索真理", "技术改变生活", "商业创造价值", "教育塑造未来",
            "医疗守护健康", "法律维护公正", "文化传承精神", "历史启迪智慧",
            "哲学思考人生", "宗教寄托心灵", "道德规范行为", "礼仪展现修养",
            "诚信立身之本", "责任担当表现", "勇气面对挑战", "智慧解决问题",
            "耐心等待结果", "细心做好每事", "恒心坚持到底", "决心达成目标",
            "信心战胜困难", "爱心温暖世界", "善心帮助他人", "真心对待朋友",
            "热心服务社会", "虚心学习进步", "静心思考人生", "宽心面对得失",
            "平常心看待成败", "欢喜心享受生活", "感恩心珍惜拥有", "慈悲心关爱众生"
        ];

        // 背景颜色列表
        const colors = [
            "#FFB6C1", "#87CEEB", "#90EE90", "#E6E6FA",
            "#FFFFE0", "#DDA0DD", "#FF7F50", "#FFE4C4",
            "#7FFFD4", "#FFE4E1", "#F0FFF0", "#F5F5DC",
            "#FFEBCD", "#FFEFD5", "#F0F8FF", "#F8F8FF",
            "#F5F5F5", "#FFF5EE", "#FDF5E6", "#FFFAF0",
            "#FFFFF0", "#F0FFFF", "#E0FFFF", "#E6E6FA",
            "#FFF0F5", "#FFE4E1", "#FFDAB9", "#FFC0CB",
            "#FFA07A", "#FF8C00", "#FF7F50", "#FF6347",
            "#FF4500", "#FFD700", "#FFA500", "#FF8C00",
            "#B0E0E6", "#ADD8E6", "#87CEEB", "#87CEFA",
            "#00BFFF", "#B0C4DE", "#1E90FF", "#6495ED",
            "#7B68EE", "#6A5ACD", "#483D8B", "#8A2BE2",
            "#9370DB", "#BA55D3", "#DA70D6", "#EE82EE",
            "#DDA0DD", "#FF00FF", "#FF69B4", "#FF1493",
            "#C71585", "#DB7093", "#FFC0CB", "#FFB6C1",
            "#98FB98", "#90EE90", "#00FA9A", "#00FF7F",
            "#3CB371", "#2E8B57", "#228B22", "#008000",
            "#006400", "#9ACD32", "#6B8E23", "#808000",
            "#556B2F", "#66CDAA", "#8FBC8F", "#20B2AA",
            "#008B8B", "#008080", "#48D1CC", "#40E0D0",
            "#00CED1", "#5F9EA0", "#4682B4", "#6495ED",
            "#7B68EE", "#6A5ACD", "#483D8B", "#8A2BE2"
        ];

        // 全局变量
        let tipCount = 0;
        const totalTips = 300;
        let isRunning = false;
        let audio = null;
        let tipElements = [];
        
        // DOM元素
        const statusEl = document.getElementById('status');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        
        // 更新状态显示
        function updateStatus(message) {
            statusEl.textContent = message;
        }
        
        // 创建弹窗
        function createTip() {
            if (tipCount >= totalTips || !isRunning) return;
            
            const tip = document.createElement('div');
            tip.className = 'tip';
            tip.textContent = tips[Math.floor(Math.random() * tips.length)];
            tip.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // 随机位置 - 确保在屏幕内
            const maxX = window.innerWidth - 200;
            const maxY = window.innerHeight - 100;
            const x = Math.random() * Math.max(0, maxX);
            const y = Math.random() * Math.max(0, maxY);
            tip.style.left = `${x}px`;
            tip.style.top = `${y}px`;
            
            document.body.appendChild(tip);
            tipElements.push(tip);
            tipCount++;
            
            updateStatus(`已创建: ${tipCount}/${totalTips}`);
            
            // 10秒后移除
            setTimeout(() => {
                if (tip.parentNode) {
                    tip.parentNode.removeChild(tip);
                    const index = tipElements.indexOf(tip);
                    if (index > -1) {
                        tipElements.splice(index, 1);
                    }
                }
            }, 10000);
        }
        
        // 开始创建弹窗
        function startTips() {
            if (isRunning) return;
            
            isRunning = true;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            tipCount = 0;
            
            updateStatus("正在创建弹窗...");
            
            // 播放背景音乐
            try {
                audio = new Audio();
                // 如果音乐文件与HTML在同一目录，可以使用相对路径
                // 如果音乐文件在网络上，可以使用绝对URL
                audio.src = 'background_music.mp3'; // 替换为你的音乐文件路径
                audio.volume = 0.5;
                audio.play().then(() => {
                    updateStatus("音乐播放中，创建弹窗...");
                }).catch(e => {
                    console.log("自动播放被阻止:", e);
                    updateStatus("点击屏幕任意位置播放音乐");
                    // 添加点击事件来播放音乐
                    const playOnClick = () => {
                        audio.play();
                        document.removeEventListener('click', playOnClick);
                        document.removeEventListener('touchstart', playOnClick);
                    };
                    document.addEventListener('click', playOnClick);
                    document.addEventListener('touchstart', playOnClick);
                });
            } catch (e) {
                console.error("播放音乐失败:", e);
                updateStatus("音乐播放失败，继续创建弹窗...");
            }
            
            // 创建弹窗 - 分批创建以避免性能问题
            let created = 0;
            const batchSize = 10; // 每批创建10个
            const interval = setInterval(() => {
                if (created >= totalTips || !isRunning) {
                    clearInterval(interval);
                    if (created >= totalTips) {
                        updateStatus("已完成所有弹窗创建");
                    }
                    return;
                }
                
                // 创建一批弹窗
                for (let i = 0; i < batchSize && created < totalTips; i++) {
                    setTimeout(() => createTip(), i * 50); // 每个弹窗间隔50ms
                    created++;
                }
            }, 200); // 每200ms创建一批
        }
        
        // 停止创建弹窗
        function stopTips() {
            isRunning = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            // 停止音乐
            if (audio) {
                audio.pause();
                audio.currentTime = 0;
            }
            
            updateStatus("已停止");
        }
        
        // 清除所有弹窗
        function clearAllTips() {
            tipElements.forEach(tip => {
                if (tip.parentNode) {
                    tip.parentNode.removeChild(tip);
                }
            });
            tipElements = [];
            tipCount = 0;
        }
        
        // 绑定按钮事件
        startBtn.addEventListener('click', startTips);
        stopBtn.addEventListener('click', stopTips);
        
        // 页面加载完成后初始化
        window.addEventListener('DOMContentLoaded', () => {
            updateStatus("准备就绪，点击开始按钮");
            
            // 防止移动端缩放和滚动
            document.addEventListener('touchmove', function(e) {
                if (e.scale !== 1) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            // 双击刷新页面
            document.addEventListener('dblclick', () => {
                location.reload();
            });
        });
        
        // 窗口大小变化时调整弹窗位置（可选）
        window.addEventListener('resize', () => {
            // 可以在这里添加逻辑来调整现有弹窗的位置
            // 但为了简单起见，我们只是重新创建弹窗
            if (isRunning) {
                clearAllTips();
                startTips();
            }
        });
    </script>
</body>
</html>
